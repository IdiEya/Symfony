<!DOCTYPE html>
<html>
<head>
    <title>Confirmation d'abonnement</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons (déplacé dans le <head> pour de meilleures pratiques) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <style>
        .qr-code-container {
            margin: 20px auto;
            text-align: center;
        }
        .qr-code-image {
            max-width: 300px;
            height: auto;
            border: 1px solid #ddd;
            padding: 10px;
            background: white;
            display: block; /* Ajout pour une meilleure gestion des marges */
            margin: 0 auto; /* Centrage horizontal */
        }
        .download-options {
            margin-top: 20px;
        }
        .format-btn {
            margin: 5px;
            min-width: 80px;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <div class="card">
            <div class="card-header bg-success text-white">
                <h1 class="text-center mb-0">✅ Abonnement créé avec succès</h1>
            </div>

            <div class="card-body">
                <div class="qr-code-container">
                    {# Affichage du QR Code #}
                    <img src="{{ path('abonnement_qr_code', {'id': abonnement.id, 'format': 'png'}) }}" 
                         alt="QR Code de l'abonnement (ID: {{ abonnement.id }})"
                         class="qr-code-image img-fluid"
                         id="qrCodePreview">

                    <div class="download-options">
                        <p class="lead">Télécharger le QR Code :</p>
                        {# Options de téléchargement avec icônes #}
                        <a href="{{ path('abonnement_qr_code', {'id': abonnement.id, 'format': 'png'}) }}" 
                           class="btn btn-primary format-btn" 
                           target="_blank"
                           title="Télécharger en PNG">
                           <i class="bi bi-filetype-png"></i> PNG
                        </a>
                        <a href="{{ path('abonnement_qr_code', {'id': abonnement.id, 'format': 'svg'}) }}" 
                           class="btn btn-success format-btn" 
                           target="_blank"
                           title="Télécharger en SVG">
                           <i class="bi bi-filetype-svg"></i> SVG
                        </a>
                        <a href="{{ path('abonnement_qr_code', {'id': abonnement.id, 'format': 'jpeg'}) }}" 
                           class="btn btn-warning format-btn text-white" 
                           target="_blank"
                           title="Télécharger en JPEG">
                           <i class="bi bi-filetype-jpg"></i> JPEG
                        </a>
                    </div>
                </div>

                <div class="text-center mt-4">
                    <a href="{{ path('app_abonnement_show', {'id': abonnement.id}) }}" 
                       class="btn btn-lg btn-outline-secondary"
                       title="Voir les détails">
                        <i class="bi bi-eye-fill"></i> Voir les détails de l'abonnement
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>